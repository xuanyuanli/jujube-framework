package cn.xuanyuanli.core.util.net;

import java.io.IOException;
import java.io.InputStream;
import java.nio.charset.StandardCharsets;
import java.util.Base64;

import org.apache.commons.io.IOUtils;
import org.assertj.core.api.Assertions;
import org.junit.jupiter.api.Test;

public class HttpsTest {

    private static final String ERROR_URL = "auctionhome";
    public static final String WATERMARK_JPG_BASE64 = "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z15qNbClBpcX0/xvD7ncrvZGHUPXV4OzCt0qClcSlcgenNaq1mX6I6e5veV3++Wt0y3EpS64zIUjj2AAJAO24AA9lS2lBBbZ2c9LLVcGbkxaH1uMOBxtLstak8QO43G/Pn4VI80wmwZ9aBY8jZccjpeS6EtulB4gCBzH0mtvSgjmV6UYVmnwD7YLct37Go4I3C6U+j6Poq2+UPRHX1+dZNzwDHLtl0LN5kdwz4DXdxlpdISE+l1T0PyzW6pQaDOtNcV1FajM5PGdcTEUos908UbFW2++3XoKjv3Mek/8Wy/z1dWDSg193xiy33HXMVusXvYTjKWltFZBKU7bcxz3BAO/qr0tFhtNjsrOPWyGG4bDPdNsklQ4fIk8z7azKUEAd7M2kzjinBaZKAok8KZq9h6hua3mC6V4hp09IkYxFebVKSlL3evle4SSR16dTUjpQaW04DjllyudmcBhxM64I4ZK1OkpI3B5DoPkisfKNLMMy++xMlvNvWZkMp7p5p0o34VcSQrbrsf11IqUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUH//Z";

    @Test
    public void getStatusCode() {
        Assertions.assertThat(Https.getStatusCode("https://m.auctionhome.cn")).isEqualTo(200);
        Assertions.assertThat(Https.getStatusCode(ERROR_URL)).isEqualTo(500);
    }

    @Test
    public void getAsString() {
        Assertions.assertThat(Https.getAsString("https://m.auctionhome.cn/MP_verify_CGYa76e80m7P1V6D.txt")).isEqualTo("CGYa76e80m7P1V6D");
        Assertions.assertThat(Https.getAsString(ERROR_URL)).isEqualTo("");
    }

    @Test
    public void postAsString() {
        Assertions.assertThat(Https.postAsString(ERROR_URL)).isEqualTo("");
    }

    @Test
    public void getAsStream() throws IOException {
        InputStream inputStream = Https.getAsStream("https://paizj-test.oss-cn-beijing.aliyuncs.com/watermark.png?x-oss-process=style/l_origin_jpg");
        Assertions.assertThat(Base64.getEncoder().encodeToString(inputStream.readAllBytes())).isEqualTo(WATERMARK_JPG_BASE64);
        Assertions.assertThat(IOUtils.toString(Https.getAsStream("https://m.auctionhome.cn/MP_verify_CGYa76e80m7P1V6D.txt"), StandardCharsets.UTF_8))
                .isEqualTo("CGYa76e80m7P1V6D");
        Assertions.assertThatThrownBy(() -> Https.getAsStream(ERROR_URL)).isInstanceOf(RuntimeException.class);
    }
}
